{# templates/admin_tools/statistics_summary.html #}
{% extends "template_base.html" %}

{% block title %}Quick Statistics{% endblock %}

{% block content %}
{% load humanize %}

<h1>Quick Statistics</h1>
<p>API Calls in the last 30 days.</p>

{% if ctcl_daily_summary_list %}
<h4>CTCL API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for ctcl_daily_summary in ctcl_daily_summary_list %}
        <tr>
            <td>{{ ctcl_daily_summary.date_string }}</td>
            <td>{{ ctcl_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}

{% if ballotpedia_daily_summary_list %}
    <h4>Ballotpedia API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for ballotpedia_daily_summary in ballotpedia_daily_summary_list %}
        <tr>
            <td>{{ ballotpedia_daily_summary.date_string }}</td>
            <td>{{ ballotpedia_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}

{% if google_civic_daily_summary_list %}
<h4>Google API Calls</h4>
<p>We need to track the number of calls to the Google Civic API because there are limits to
    the number of calls we can make per day. This also gives us a glimpse into new network activity.</p>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for google_civic_daily_summary in google_civic_daily_summary_list %}
        <tr>
            <td>{{ google_civic_daily_summary.date_string }}</td>
            <td>{{ google_civic_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}

{% if vote_smart_daily_summary_list %}
    <h4>Vote Smart API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for vote_smart_daily_summary in vote_smart_daily_summary_list %}
        <tr>
            <td>{{ vote_smart_daily_summary.date_string }}</td>
            <td>{{ vote_smart_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
{% endif %}

{% if vote_usa_daily_summary_list %}
<h4>Vote USA API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for vote_usa_daily_summary in vote_usa_daily_summary_list %}
        <tr>
            <td>{{ vote_usa_daily_summary.date_string }}</td>
            <td>{{ vote_usa_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}


{% if sendgrid_daily_summary_list %}
<h4>SendGrid API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for sendgrid_daily_summary in sendgrid_daily_summary_list %}
        <tr>
            <td>{{ sendgrid_daily_summary.date_string }}</td>
            <td>{{ sendgrid_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}


{% if targetsmart_daily_summary_list %}
<h4>TargetSmart API Calls</h4>
    <table class="table">
        <thead>
            <tr>
                <th>Date</th>
                <th># of Calls</th>
            </tr>
        </thead>
       {% for targetsmart_daily_summary in targetsmart_daily_summary_list %}
        <tr>
            <td>{{ targetsmart_daily_summary.date_string }}</td>
            <td>{{ targetsmart_daily_summary.count|intcomma }}</td>
        </tr>
        {% endfor %}
    </table>
    <br />
{% endif %}

{%  endblock %}
